<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Employee Dashboard â€” Self Service</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="../js/admin-inline.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <link id="favicon" rel="icon" type="image/ico" href="../images/favicon.ico" />
  <script defer type="module" src="../js/employee.js"></script>
  <style>
    body { -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
    html, body { overflow: hidden; }
   </style>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: {
              50: '#eff6ff', 100: '#dbeafe', 200: '#bfdbfe', 300: '#93c5fd', 400: '#60a5fa',
              500: '#3b82f6', 600: '#2563eb', 700: '#1d4ed8', 800: '#1e40af', 900: '#1e3a8a'
            }
          }
        }
      }
    }
  </script>
  </head>
<body class="bg-gray-50 min-h-screen">
  <div id="app-shell" class="h-screen flex overflow-hidden">
    <!-- Sidebar -->
    <aside class="w-64 bg-primary-700 text-white flex-shrink-0 fixed inset-y-0 overflow-y-auto z-30">
      <div class="h-16 flex items-center px-4 border-b border-primary-600">
        <div class="flex items-center gap-3">
          <div class="w-8 h-8 rounded-lg bg-white/10 ring-1 ring-white/20 flex items-center justify-center">
            <img src="../images/unitop.png" alt="Unitop" class="w-5 h-5 object-contain"/>
          </div>
          <div class="text-sm font-semibold tracking-tight">Unitop</div>
        </div>
      </div>
      <div class="px-4 py-3 border-b border-primary-600">
        <div class="text-sm font-medium text-primary-100">Employee Dashboard</div>
      </div>
      <nav class="px-2 py-3 space-y-1 text-sm">
        <a href="#dashboard" class="block px-3 py-2 rounded hover:bg-primary-600">Dashboard</a>
        <a href="#attendance" class="block px-3 py-2 rounded hover:bg-primary-600"> My Attendance</a> 
        <a href="#requests" class="block px-3 py-2 rounded hover:bg-primary-600">File Leave</a>
        <a href="#payslips" class="block px-3 py-2 rounded hover:bg-primary-600">My Payslips</a>
        <button id="emp-logout" class="w-full text-left px-3 py-2 rounded hover:bg-primary-600">Logout</button>
      </nav>
    </aside>

    <!-- Main -->
    <div class="flex-1 flex flex-col ml-64 h-screen">
      <!-- Top header -->
      <header class="h-16 flex items-center justify-end px-6 border-b border-gray-100 bg-white/90 backdrop-blur sticky top-0 z-20">
        <div class="relative mr-2">
          <button id="notif-toggle" class="relative inline-flex items-center justify-center w-9 h-9 rounded-full hover:bg-gray-50 ring-1 ring-gray-200 transition" aria-label="Notifications">
            <svg class="w-5 h-5 text-gray-600" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2a6 6 0 00-6 6v2.586l-.707.707A1 1 0 006 13h12a1 1 0 00.707-1.707L18 10.586V8a6 6 0 00-6-6z"/><path d="M8 14a4 4 0 008 0H8z"/></svg>
            <span id="notif-badge" class="hidden absolute -top-0.5 -right-0.5 w-4 h-4 bg-red-600 text-white text-[10px] leading-4 rounded-full text-center"></span>
          </button>
          <div id="notif-dropdown" class="hidden absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-lg ring-1 ring-gray-200 py-2 z-20">
            <div class="px-3 py-2 text-sm font-medium text-gray-700 flex items-center justify-between">
              <span>Notifications</span>
              <button id="notif-close" class="text-xs text-gray-500 hover:underline">Close</button>
            </div>
            <div id="notif-list" class="max-h-72 overflow-y-auto"></div>
            <div class="px-3 py-2 border-t text-right">
              <button id="notif-mark-all" class="text-xs text-primary-700 hover:underline">Mark all as read</button>
            </div>
          </div>
        </div>
        <div class="relative">
          <button id="emp-profile-toggle" class="flex items-center gap-3">
            <img id="emp-prof-avatar-header" alt="Profile" class="w-9 h-9 rounded-full object-cover ring-1 ring-gray-200 hidden"/>
            <svg id="emp-prof-avatar-header-ph" class="w-9 h-9 text-gray-700 rounded-full ring-1 ring-gray-200 p-1.5" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M12 12a5 5 0 100-10 5 5 0 000 10z"/>
              <path d="M4 20a8 8 0 1116 0v1H4v-1z"/>
            </svg>
            <div class="text-sm leading-tight text-left">
              <div id="profile-name" class="font-medium">Employee</div>
              <div id="profile-role" class="text-xs text-gray-500">employee</div>
            </div>
            <svg class="w-4 h-4 text-gray-500" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.17l3.71-3.94a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z" clip-rule="evenodd"/></svg>
          </button>
          <div id="profile-dropdown" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg ring-1 ring-gray-200 py-1 z-10">
            <button id="emp-profile" class="group relative w-full text-left flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 focus:bg-gray-50 transition-colors">
              <span class="pointer-events-none absolute left-0 top-0 h-full w-0.5 bg-primary-600 scale-y-0 group-hover:scale-y-100 group-focus:scale-y-100 origin-top transition-transform"></span>
              <svg class="w-4 h-4 text-gray-600 group-hover:text-gray-800 group-focus:text-gray-800" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 12a5 5 0 100-10 5 5 0 000 10z"/><path d="M4 20a8 8 0 1116 0v1H4v-1z"/></svg>
              <span class="transition-transform group-hover:translate-x-0.5">Profile</span>
            </button>
            <button id="header-logout" class="group relative w-full text-left flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 focus:bg-red-50 transition-colors">
              <span class="pointer-events-none absolute left-0 top-0 h-full w-0.5 bg-red-600 scale-y-0 group-hover:scale-y-100 group-focus:scale-y-100 origin-top transition-transform"></span>
              <svg class="w-4 h-4 transition-colors group-hover:text-red-700 group-focus:text-red-700" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M3 4a2 2 0 012-2h6a2 2 0 012 2v3a1 1 0 11-2 0V4H5v12h6v-3a1 1 0 112 0v3a2 2 0 01-2 2H5a2 2 0 01-2-2V4zm11.293 3.293a1 1 0 011.414 1.414L14.414 10H9a1 1 0 100 2h5.414l1.293 1.293a1 1 0 01-1.414 1.414l-3-3a1 1 0 010-1.414l3-3z" clip-rule="evenodd"/></svg>
              <span class="transition-transform group-hover:translate-x-0.5">Logout</span>
            </button>
          </div>
        </div>
      </header>

      <main class="p-6 flex-1 overflow-y-auto">
        <div id="emp-app"></div>
      </main>
    </div>
  </div>
</body>
</html>
